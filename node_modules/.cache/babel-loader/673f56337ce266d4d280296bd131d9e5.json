{"ast":null,"code":"var _jsxFileName = \"/Applications/MAMP/htdocs/start-project/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router';\nimport { Layout } from './components/Layout';\nimport { Home } from './components/Home';\nimport { FetchData } from './components/FetchData';\nimport { Counter } from './components/Counter';\nimport { authProvider } from './authProvider';\nimport { AzureAD, AuthenticationState } from 'react-aad-msal';\nimport { getUserDetails, getUserPhoto, getUserEmail, getAllUsers } from './services/GraphService';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      user: null\n    };\n    var user = authProvider.getAccount();\n\n    if (user) {\n      this.getMyProfile();\n    }\n  }\n\n  async getAccessToken() {\n    var accessToken = await authProvider.getAccessToken();\n    return accessToken;\n  }\n\n  async login() {\n    await authProvider.login();\n    await this.getMyProfile();\n  }\n\n  async getMyProfile() {\n    try {\n      var accessToken = await authProvider.getAccessToken();\n\n      if (accessToken) {\n        this.setState({\n          isLoading: false,\n          user: await getUserDetails(\"me\", accessToken)\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  async getMyPhoto(accessToken) {\n    return await getUserPhoto(\"me\", accessToken).then(function (response) {\n      if (response.ok) {\n        return response.blob();\n      }\n    }).then(function (photoBlob) {\n      if (photoBlob) {\n        return URL.createObjectURL(photoBlob);\n      }\n    });\n  }\n\n  async getMyEmail(accessToken) {\n    return await getUserEmail(\"me\", accessToken).then(function (response) {\n      if (response.ok) {\n        console.log(response);\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(AzureAD, {\n      provider: authProvider,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, ({\n      logout,\n      authenticationState\n    }) => {\n      return React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: props => React.createElement(Home, Object.assign({}, props, {\n          state: this.state,\n          isAuthenticated: authenticationState === AuthenticationState.Authenticated,\n          authButtonMethod: authenticationState === AuthenticationState.Authenticated ? logout.bind(this) : this.login.bind(this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/counter\",\n        component: Counter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/fetch-data/:startDateIndex?\",\n        component: FetchData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      })));\n    });\n  }\n\n}\nApp.displayName = App.name;","map":{"version":3,"sources":["/Applications/MAMP/htdocs/start-project/src/App.js"],"names":["React","Component","Route","Layout","Home","FetchData","Counter","authProvider","AzureAD","AuthenticationState","getUserDetails","getUserPhoto","getUserEmail","getAllUsers","App","constructor","props","state","isLoading","user","getAccount","getMyProfile","getAccessToken","accessToken","login","setState","err","console","error","getMyPhoto","then","response","ok","blob","photoBlob","URL","createObjectURL","getMyEmail","log","render","logout","authenticationState","Authenticated","bind","displayName","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router';\nimport { Layout } from './components/Layout';\nimport  {Home}  from './components/Home';\nimport { FetchData } from './components/FetchData';\nimport { Counter } from './components/Counter';\nimport { authProvider } from './authProvider';\nimport { AzureAD, AuthenticationState } from 'react-aad-msal';\nimport { getUserDetails, getUserPhoto,getUserEmail, getAllUsers } from './services/GraphService';\n\nexport default class App extends Component {\n    static displayName = App.name;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isLoading: true,\n            user: null,\n        };\n\n        var user = authProvider.getAccount();\n\n        if (user) {\n\n            this.getMyProfile();\n\n        }\n    }\n\n    async getAccessToken() {\n        var accessToken = await authProvider.getAccessToken();\n        return accessToken;\n    }\n\n    async login() {\n\n        await authProvider.login();\n\n        await this.getMyProfile();\n    }\n\n    async getMyProfile() {\n\n        try {\n\n            var accessToken = await authProvider.getAccessToken();\n\n            if (accessToken) {\n                this.setState({\n                    isLoading: false,\n                    user: await getUserDetails(\"me\", accessToken),\n\n                });\n            }\n        }\n        catch (err) {\n            console.error(err);\n        }\n    }\n\n    async getMyPhoto(accessToken) {\n        return await getUserPhoto(\"me\", accessToken).then(\n            function (response) {\n                if (response.ok) {\n                    return response.blob();\n                }\n            })\n            .then(\n                function (photoBlob) {\n                    if (photoBlob) {\n                        return URL.createObjectURL(photoBlob);\n                    }\n                });\n    }\n\n    async getMyEmail(accessToken) {\n        return await getUserEmail(\"me\", accessToken).then(\n            function (response) {\n                if (response.ok) {\n                    console.log(response)\n                }\n            })\n    }\n\n    render() {\n        return (\n            <AzureAD provider={authProvider}>\n                {\n                    ({ logout, authenticationState }) => {\n                        return (\n                            <Layout>\n                                {\n                                    <React.Fragment>\n                                        <Route exact path=\"/\"\n                                            render={(props) =>\n                                                <Home {...props}\n                                                    state={this.state}\n                                                    isAuthenticated={authenticationState === AuthenticationState.Authenticated}\n                                                    authButtonMethod={authenticationState === AuthenticationState.Authenticated ?\n                                                        logout.bind(this) : this.login.bind(this)} />\n                                            } />\n                                        <Route path='/counter' component={Counter} />\n                                        <Route path='/fetch-data/:startDateIndex?' component={FetchData} />\n                                    </React.Fragment>\n                                }\n                            </Layout>\n                        );\n                    }\n                }\n            </AzureAD>\n        );\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}