{"ast":null,"code":"/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\n\n/**\r\n * @class\r\n * Class that handles BatchResponseContent\r\n */\nexport class BatchResponseContent {\n  /**\r\n   * @public\r\n   * @constructor\r\n   * Creates the BatchResponseContent instance\r\n   * @param {BatchResponseBody} response - The response body returned for batch request from server\r\n   * @returns An instance of a BatchResponseContent\r\n   */\n  constructor(response) {\n    this.responses = new Map();\n    this.update(response);\n  }\n  /**\r\n   * @private\r\n   * Creates native Response object from the json representation of it.\r\n   * @param {KeyValuePairObject} responseJSON - The response json value\r\n   * @returns The Response Object instance\r\n   */\n\n\n  createResponseObject(responseJSON) {\n    const body = responseJSON.body;\n    const options = {};\n    options.status = responseJSON.status;\n\n    if (responseJSON.statusText !== undefined) {\n      options.statusText = responseJSON.statusText;\n    }\n\n    options.headers = responseJSON.headers;\n    return new Response(body, options);\n  }\n  /**\r\n   * @public\r\n   * Updates the Batch response content instance with given responses.\r\n   * @param {BatchResponseBody} response - The response json representing batch response message\r\n   * @returns Nothing\r\n   */\n\n\n  update(response) {\n    this.nextLink = response[\"@nextLink\"];\n    const responses = response.responses;\n\n    for (let i = 0, l = responses.length; i < l; i++) {\n      this.responses.set(responses[i].id, this.createResponseObject(responses[i]));\n    }\n  }\n  /**\r\n   * @public\r\n   * To get the response of a request for a given request id\r\n   * @param {string} requestId - The request id value\r\n   * @returns The Response object instance for the particular request\r\n   */\n\n\n  getResponseById(requestId) {\n    return this.responses.get(requestId);\n  }\n  /**\r\n   * @public\r\n   * To get all the responses of the batch request\r\n   * @returns The Map of id and Response objects\r\n   */\n\n\n  getResponses() {\n    return this.responses;\n  }\n  /**\r\n   * @public\r\n   * To get the iterator for the responses\r\n   * @returns The Iterable generator for the response objects\r\n   */\n\n\n  *getResponsesIterator() {\n    const iterator = this.responses.entries();\n    let cur = iterator.next();\n\n    while (!cur.done) {\n      yield cur.value;\n      cur = iterator.next();\n    }\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}