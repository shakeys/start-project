{"ast":null,"code":"/**\r\n * -------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation.  All Rights Reserved.  Licensed under the MIT License.\r\n * See License in the project root for license information.\r\n * -------------------------------------------------------------------------------------------\r\n */\n\n/**\r\n * @module OneDriveLargeFileUploadTaskUtil\r\n */\n\n/**\r\n * @constant\r\n * Default value for the rangeSize\r\n * Recommended size is between 5 - 10 MB {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#best-practices}\r\n */\nconst DEFAULT_FILE_SIZE = 5 * 1024 * 1024;\n/**\r\n * @constant\r\n * Rounds off the given value to a multiple of 320 KB\r\n * @param {number} value - The value\r\n * @returns The rounded off value\r\n */\n\nconst roundTo320KB = value => {\n  if (value > 320 * 1024) {\n    value = Math.floor(value / (320 * 1024)) * 320 * 1024;\n  }\n\n  return value;\n};\n/**\r\n * @constant\r\n * Get the valid rangeSize for a file slicing (validity is based on the constrains mentioned in here\r\n * {@link https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/driveitem_createuploadsession#upload-bytes-to-the-upload-session})\r\n *\r\n * @param {number} [rangeSize = DEFAULT_FILE_SIZE] - The rangeSize value.\r\n * @returns The valid rangeSize\r\n */\n\n\nexport const getValidRangeSize = (rangeSize = DEFAULT_FILE_SIZE) => {\n  const sixtyMB = 60 * 1024 * 1024;\n\n  if (rangeSize > sixtyMB) {\n    rangeSize = sixtyMB;\n  }\n\n  return roundTo320KB(rangeSize);\n};","map":null,"metadata":{},"sourceType":"module"}